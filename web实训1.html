<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="common .css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery-1.8.3.js"></script>
    <script type="text/javascript" src="common.js"></script>
</head>

<body>
    <div class="dsh-cm-page">
        <img src="UI/bg_dining.jpg">
        <div class="dsh-floor-banner">
            <div class="dsh-i"><img src="UI/icon_local.png"><span class="dsh-x">星光Park店 </span> <span class="dsh-t">堂食&nbsp;:&nbsp;&nbsp;A15桌</span></div>
            <div class="dsh-floor-goods">
            </div>
            <div class="dsh-left">
                <table width="200px" height="1040px" cellpadding="0" cellspacing="0">

                    <tr>
                        <td class="dsh-q">新品上市</td>
                    </tr>
                    <tr>
                        <td class="dsh-d">火爆热销</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">无辣不欢</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">不辣不辣</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>
                    <tr>
                        <td class="dsh-q">&nbsp;</td>
                    </tr>

                </table>
            </div>
        </div>

        <div class="dsh-right">
            <hr class="dsh-hr">
            <h2 class="dsh-y">&nbsp;&nbsp;&nbsp;火爆热销</h2>
            <table width="548px" height="900px" cellpadding="1" cellspacing="0">
                <tr>
                    <td rowspan="4" class="dsh-h"><img src="UI/goods2.png"></td>

                </tr>
                <tr>
                    <td class="dsh-z">招牌麻辣烤鱼</td>
                    <td></td>
                </tr>
                <tr>
                    <td class="dsh-p ">配菜:&nbsp;&nbsp;草鱼&nbsp;莴笋&nbsp;豆皮&nbsp;藕片</td>
                    <td></td>

                </tr>
                <tr>
                    <td><span class="dsh-m">￥</span><span class="dsh-s">158</span><span class="dsh-g">/份</span></td>
                    <td>
                        <img src="UI/icon_minus.png " class="decrement" data-price="158">&nbsp;&nbsp;&nbsp;<span class="dsh-j ">0</span>
                        <img src="UI/icon_add.png " class="increment" data-price="158"></td>
                </tr>
                <tr></tr>
                <tr>
                    <td rowspan="4" class="dsh-h"><img src="UI/goods1.png"></td>
                </tr>

                <tr>

                    <td class="dsh-z">柠檬香烤鱼</td>

                    <td></td>
                </tr>
                <tr>
                    <td class="dsh-p">配菜:&nbsp;&nbsp;草鱼&nbsp;莴笋&nbsp;豆皮&nbsp;藕片</td>
                    <td></td>

                </tr>
                <tr>
                    <td><span class="dsh-f">￥</span><span class="dsh-s ">158</span><span class="dsh-g">/份</span></td>
                    <td>
                        <img src="UI/icon_minus.png " class="decrement" data-price="158">&nbsp;&nbsp;&nbsp;<span class="dsh-j ">0</span>
                        <img src="UI/icon_add.png " class="increment" data-price="158"></td>
                </tr>
                <tr>
                    <td rowspan="4 " class="dsh-h "><img src="UI/goods3.png "></td>

                </tr>
                <tr>

                    <td class="dsh-z">干锅烤鱼</td>
                    <td></td>
                </tr>
                <tr>
                    <td class="dsh-p">配菜:&nbsp;&nbsp;草鱼&nbsp;莴笋&nbsp;豆皮&nbsp;藕片</td>
                    <td></td>

                </tr>
                <tr>
                    <td><span class="dsh-m">￥</span><span class="dsh-s">158</span><span class="dsh-g">/份</span></td>
                    <td>
                        <img src="UI/icon_minus.png" class="decrement" data-price="158">&nbsp;&nbsp;&nbsp;<span class="dsh-j ">0</span>
                        <img src="UI/icon_add.png " class="increment" data-price="158"></td>
                </tr>
                <tr>
                    <td rowspan="4" class="dsh-h"><img src="UI/goods3.png "></td>

                </tr>
                <tr>

                    <td class="dsh-z ">五香烤鱼</td>
                    <td></td>
                </tr>
                <tr>
                    <td class="dsh-p ">配菜:&nbsp;&nbsp;草鱼&nbsp;莴笋&nbsp;豆皮&nbsp;藕片</td>
                    <td></td>

                </tr>
                <tr>
                    <td><span class="dsh-m">￥</span><span class="dsh-s">158</span><span class="dsh-g">/份</span></td>
                    <td>
                        <img src="UI/icon_minus.png " class="decrement" data-price="158">&nbsp;&nbsp;&nbsp;<span class="dsh-j ">0</span>
                        <img src="UI/icon_add.png " class="increment" data-price="158"></td>
                </tr>
                <tr>
                    <td rowspan="4 " class="dsh-h "><img src="UI/goods1.png "></td>

                </tr>
                <tr>

                    <td class="dsh-z ">招牌麻辣烤鱼</td>
                    <td></td>
                </tr>
                <tr>
                    <td class="dsh-p ">配菜:&nbsp;&nbsp;草鱼&nbsp;莴笋&nbsp;豆皮&nbsp;藕片</td>
                    <td></td>

                </tr>
                <tr>
                    <td><span class="dsh-m">￥</span><span class="dsh-s ">158</span><span class="dsh-g">/份</span></td>
                    <td>
                        <img src="UI/icon_minus.png " class="decrement" data-price="158">&nbsp;&nbsp;&nbsp;<span class="dsh-j ">0</span>
                        <img src="UI/icon_add.png " class="increment" data-price="158">
                    </td>
                </tr>
            </table>
            <hr class="dsh-ht ">
        </div>
        <div class="dsh-floor-shop ">
            <div class="dsh-left "></div>
            <div class="dsh-right "></div>
        </div>
        <div class="dsh-floor-total">
            <table width="748px" height="80px " cellspacing="0 " cellpadding="0 " class="dsh-table ">
                <tr class="dsh-tr ">
                    <td><img src="UI/icon_cart.png "></td>
                    <td><span class="dsh-er ">合计：</span><span class="dsh-jinqian "><span id="totalAmount">0.00</span></span></td>
                    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                    <td>
                        <div class="dsh-liji "><span class="dsh-xia "><a href="#">立即下单</a></span></div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</body>
<!-- 为增减按钮添加事件绑定，并在最后的合计金额中计算 -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
    // 获取所有增减按钮
    var incrementButtons = document.querySelectorAll('.increment');
    var decrementButtons = document.querySelectorAll('.decrement');

    // 获取合计金额元素
    var totalAmountElement = document.getElementById('totalAmount');

    // 初始合计金额
    var totalAmount = parseFloat(totalAmountElement.textContent);
    totalAmountElement.textContent = '￥' + totalAmount.toFixed(2);

    // 为每个增减按钮添加事件监听器
    incrementButtons.forEach(function (button) {
        button.addEventListener('click', function () {
            // 获取商品价格
            var price = parseFloat(button.getAttribute('data-price'));

            // 增加商品数量
            var quantityElement = button.parentNode.querySelector('.dsh-j');
            if (quantityElement) {
                var quantity = parseInt(quantityElement.textContent, 10) + 1;
                quantityElement.textContent = quantity;

                // 计算合计金额
                totalAmount += price;
                totalAmountElement.textContent = '￥' + totalAmount.toFixed(2);
            }
        });
    });

    decrementButtons.forEach(function (button) {
        button.addEventListener('click', function () {
            // 获取商品价格
            var price = parseFloat(button.getAttribute('data-price'));

            // 减少商品数量
            var quantityElement = button.parentNode.querySelector('.dsh-j');
            if (quantityElement) {
                var quantity = Math.max(parseInt(quantityElement.textContent, 10) - 1, 0);
                quantityElement.textContent = quantity;

                // 计算合计金额
                totalAmount -= price;
                totalAmount = Math.max(totalAmount, 0); // 确保合计金额不为负值
                totalAmountElement.textContent = '￥' + totalAmount.toFixed(2);
            }
        });
    });
});


</script>

</html>